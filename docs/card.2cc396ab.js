parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"IefW":[function(require,module,exports) {
var global = arguments[3];
var s=arguments[3];!function(){"use strict";var s=["1","2","3","4","5","6","7","8","9","T","J","Q","K","A"];class a{constructor(a){this.value=a.substr(0,1),this.suit=a.substr(1,1).toLowerCase(),this.rank=s.indexOf(this.value),this.wildValue=a.substr(0,1)}toString(){return this.wildValue.replace("T","10")+this.suit}static sort(s,a){return s.rank>a.rank?-1:s.rank<a.rank?1:0}}class t{constructor(s,t,i,r){if(this.cardPool=[],this.cards=[],this.suits={},this.values=[],this.wilds=[],this.name=t,this.game=i,this.sfLength=0,this.alwaysQualifies=!0,r&&this.game.lowestQualified&&(this.alwaysQualifies=!1),"standard"===i.descr&&new Set(s).size!==s.length)throw new Error("Duplicate cards");for(var e,h,d,n,l,c=this.game.handValues.length,u=0;u<this.game.handValues.length&&this.game.handValues[u]!==this.constructor;u++);this.rank=c-u,this.cardPool=s.map(function(s){return"string"==typeof s?new a(s):s});for(u=0;u<this.cardPool.length;u++)(l=this.cardPool[u]).value===this.game.wildValue&&(l.rank=-1);this.cardPool=this.cardPool.sort(a.sort);for(u=0;u<this.cardPool.length;u++)-1===(l=this.cardPool[u]).rank?this.wilds.push(l):((e=this.suits)[d=l.suit]||(e[d]=[]),(h=this.values)[n=l.rank]||(h[n]=[]),this.suits[l.suit].push(l),this.values[l.rank].push(l));this.values.reverse(),this.isPossible=this.solve()}compare(s){if(this.rank<s.rank)return 1;if(this.rank>s.rank)return-1;for(var a=0,t=0;t<=4;t++){if(this.cards[t]&&s.cards[t]&&this.cards[t].rank<s.cards[t].rank){a=1;break}if(this.cards[t]&&s.cards[t]&&this.cards[t].rank>s.cards[t].rank){a=-1;break}}return a}loseTo(s){return this.compare(s)>0}getNumCardsByRank(a){for(var t=this.values[a],i=t?t.length:0,r=0;r<this.wilds.length;r++)this.wilds[r].rank>-1||(t?1!==this.game.wildStatus&&t[0].rank!==s.length-1||(i+=1):1!==this.game.wildStatus&&a!==s.length-1||(i+=1));return i}getCardsForFlush(t,i){for(var r=(this.suits[t]||[]).sort(a.sort),e=0;e<this.wilds.length;e++){var h=this.wilds[e];if(i){for(var d=0;d<s.length&&d<r.length&&r[d].rank===s.length-1-d;)d+=1;h.rank=s.length-1-d,h.wildValue=s[h.rank]}r.push(h),r=r.sort(a.sort)}return r}resetWildCards(){for(var s=0;s<this.wilds.length;s++)this.wilds[s].rank=-1,this.wilds[s].wildValue=this.wilds[s].value}nextHighest(){var t,i=[];if(i=i.concat(this.cards),t=this.cardPool.filter(function(s){if(i.indexOf(s)<0)return!0}),0===this.game.wildStatus){for(var r=0;r<t.length;r++){var e=t[r];-1===e.rank&&(e.wildValue="A",e.rank=s.length-1)}t=t.sort(a.sort)}return t}toString(){return this.cards.map(function(s){return s.toString()}).join(", ")}toArray(){return this.cards.map(function(s){return s.toString()})}qualifiesHigh(){return!(this.game.lowestQualified&&!this.alwaysQualifies)||this.compare(t.solve(this.game.lowestQualified,this.game))<=0}static winners(s){s=s.filter(function(s){return s.qualifiesHigh()});var a=Math.max.apply(Math,s.map(function(s){return s.rank}));return s=(s=s.filter(function(s){return s.rank===a})).filter(function(a){for(var t=!1,i=0;i<s.length&&!(t=a.loseTo(s[i]));i++);return!t})}static solve(s,a,t){s=s||[""];for(var i=(a="string"==typeof(a=a||"standard")?new S(a):a).handValues,r=null,e=0;e<i.length&&!(r=new i[e](s,a,t)).isPossible;e++);return r}static stripWilds(s,a){var t,i;s=s||[""],t=[],i=[];for(var r=0;r<s.length;r++)-1===s[r].rank?t.push(s[r]):i.push(s[r]);return[t,i]}}class i extends t{constructor(s,a,t){super(s,"Straight Flush",a,t)}solve(){var s;this.resetWildCards();var a=null,i=[];for(var r in this.suits)if((s=this.getCardsForFlush(r,!1))&&s.length>=this.game.sfQualify){a=s;break}if(a){if("standard"!==this.game.descr)for(var r in this.suits)a[0].suit!==r&&(i=i.concat(this.suits[r]||[]),i=t.stripWilds(i,this.game)[1]);var e=new f(a,this.game);e.isPossible&&(this.cards=e.cards,this.cards=this.cards.concat(i),this.sfLength=e.sfLength)}return this.cards[0]&&13===this.cards[0].rank?this.descr="Royal Flush":this.cards.length>=this.game.sfQualify&&(this.descr=this.name+", "+this.cards[0].toString().slice(0,-1)+r+" High"),this.cards.length>=this.game.sfQualify}}class r extends i{constructor(s,a,t){super(s,a,t)}solve(){return this.resetWildCards(),super.solve()&&"Royal Flush"===this.descr}}class e extends r{constructor(s,a,t){super(s,a,t)}solve(){var s=0;this.resetWildCards();var a=super.solve();if(a&&this.cards){for(s=0;s<this.game.sfQualify&&s<this.cards.length;s++)if(this.cards[s].value===this.game.wildValue){a=!1,this.descr="Wild Royal Flush";break}s===this.game.sfQualify&&(this.descr="Royal Flush")}return a}}class h extends r{constructor(s,a,t){super(s,a,t)}solve(){var s=0;this.resetWildCards();var a=super.solve();if(a&&this.cards){for(s=0;s<this.game.sfQualify&&s<this.cards.length;s++)if(this.cards[s].value===this.game.wildValue){this.descr="Wild Royal Flush";break}s===this.game.sfQualify&&(a=!1,this.descr="Royal Flush")}return a}}class d extends t{constructor(s,a,t){super(s,"Five of a Kind",a,t)}solve(){this.resetWildCards();for(var a=0;a<this.values.length;a++)if(5===this.getNumCardsByRank(a)){this.cards=this.values[a]||[];for(var t=0;t<this.wilds.length&&this.cards.length<5;t++){var i=this.wilds[t];this.cards?i.rank=this.cards[0].rank:i.rank=s.length-1,i.wildValue=s[i.rank],this.cards.push(i)}this.cards=this.cards.concat(this.nextHighest().slice(0,this.game.cardsInHand-5));break}return this.cards.length>=5&&(this.descr=this.name+", "+this.cards[0].toString().slice(0,-1)+"'s"),this.cards.length>=5}}class n extends t{constructor(s,a,t){super(s,"Four of a Kind with Pair or Better",a,t)}solve(){var a;this.resetWildCards();for(var t=0;t<this.values.length;t++)if(4===this.getNumCardsByRank(t)){this.cards=this.values[t]||[];for(var i=0;i<this.wilds.length&&this.cards.length<4;i++){var r=this.wilds[i];this.cards?r.rank=this.cards[0].rank:r.rank=s.length-1,r.wildValue=s[r.rank],this.cards.push(r)}break}if(4===this.cards.length)for(t=0;t<this.values.length;t++)if((!(a=this.values[t])||this.cards[0].wildValue!==a[0].wildValue)&&this.getNumCardsByRank(t)>=2){this.cards=this.cards.concat(a||[]);for(i=0;i<this.wilds.length;i++){-1===(r=this.wilds[i]).rank&&(a?r.rank=a[0].rank:this.cards[0].rank===s.length-1&&1===this.game.wildStatus?r.rank=s.length-2:r.rank=s.length-1,r.wildValue=s[r.rank],this.cards.push(r))}this.cards=this.cards.concat(this.nextHighest().slice(0,this.game.cardsInHand-6));break}if(this.cards.length>=6){var e=this.cards[0].toString().slice(0,-1)+"'s over "+this.cards[4].toString().slice(0,-1)+"'s";this.descr=this.name+", "+e}return this.cards.length>=6}}class l extends t{constructor(s,a,t){super(s,"Four of a Kind",a,t)}solve(){this.resetWildCards();for(var a=0;a<this.values.length;a++)if(4===this.getNumCardsByRank(a)){this.cards=this.values[a]||[];for(var t=0;t<this.wilds.length&&this.cards.length<4;t++){var i=this.wilds[t];this.cards?i.rank=this.cards[0].rank:i.rank=s.length-1,i.wildValue=s[i.rank],this.cards.push(i)}this.cards=this.cards.concat(this.nextHighest().slice(0,this.game.cardsInHand-4));break}return this.cards.length>=4&&(this.game.noKickers&&(this.cards.length=4),this.descr=this.name+", "+this.cards[0].toString().slice(0,-1)+"'s"),this.cards.length>=4}}class c extends t{constructor(s,a,t){super(s,"Four Wild Cards",a,t)}solve(){return 4===this.wilds.length&&(this.cards=this.wilds,this.cards=this.cards.concat(this.nextHighest().slice(0,this.game.cardsInHand-4))),this.cards.length>=4&&(this.game.noKickers&&(this.cards.length=4),this.descr=this.name),this.cards.length>=4}}class u extends t{constructor(s,a,t){super(s,"Three of a Kind with Two Pair",a,t)}solve(){this.resetWildCards();for(var a=0;a<this.values.length;a++)if(3===this.getNumCardsByRank(a)){this.cards=this.values[a]||[];for(var t=0;t<this.wilds.length&&this.cards.length<3;t++){var i=this.wilds[t];this.cards?i.rank=this.cards[0].rank:i.rank=s.length-1,i.wildValue=s[i.rank],this.cards.push(i)}break}if(3===this.cards.length)for(a=0;a<this.values.length;a++){var r;if(!(r=this.values[a])||this.cards[0].wildValue!==r[0].wildValue){if(this.cards.length>5&&2===this.getNumCardsByRank(a)){this.cards=this.cards.concat(r||[]);for(t=0;t<this.wilds.length;t++){-1===(i=this.wilds[t]).rank&&(r?i.rank=r[0].rank:this.cards[0].rank===s.length-1&&1===this.game.wildStatus?i.rank=s.length-2:i.rank=s.length-1,i.wildValue=s[i.rank],this.cards.push(i))}this.cards=this.cards.concat(this.nextHighest().slice(0,this.game.cardsInHand-4));break}if(2===this.getNumCardsByRank(a)){this.cards=this.cards.concat(r);for(t=0;t<this.wilds.length;t++){-1===(i=this.wilds[t]).rank&&(r?i.rank=r[0].rank:this.cards[0].rank===s.length-1&&1===this.game.wildStatus?i.rank=s.length-2:i.rank=s.length-1,i.wildValue=s[i.rank],this.cards.push(i))}}}}if(this.cards.length>=7){var e=this.cards[0].toString().slice(0,-1)+"'s over "+this.cards[3].toString().slice(0,-1)+"'s & "+this.cards[5].value+"'s";this.descr=this.name+", "+e}return this.cards.length>=7}}class o extends t{constructor(s,a,t){super(s,"Full House",a,t)}solve(){var a;this.resetWildCards();for(var t=0;t<this.values.length;t++)if(3===this.getNumCardsByRank(t)){this.cards=this.values[t]||[];for(var i=0;i<this.wilds.length&&this.cards.length<3;i++){var r=this.wilds[i];this.cards?r.rank=this.cards[0].rank:r.rank=s.length-1,r.wildValue=s[r.rank],this.cards.push(r)}break}if(3===this.cards.length)for(t=0;t<this.values.length;t++)if((!(a=this.values[t])||this.cards[0].wildValue!==a[0].wildValue)&&this.getNumCardsByRank(t)>=2){this.cards=this.cards.concat(a||[]);for(i=0;i<this.wilds.length;i++){-1===(r=this.wilds[i]).rank&&(a?r.rank=a[0].rank:this.cards[0].rank===s.length-1&&1===this.game.wildStatus?r.rank=s.length-2:r.rank=s.length-1,r.wildValue=s[r.rank],this.cards.push(r))}this.cards=this.cards.concat(this.nextHighest().slice(0,this.game.cardsInHand-5));break}if(this.cards.length>=5){var e=this.cards[0].toString().slice(0,-1)+"'s over "+this.cards[3].toString().slice(0,-1)+"'s";this.descr=this.name+", "+e}return this.cards.length>=5}}class g extends t{constructor(s,a,t){super(s,"Flush",a,t)}solve(){for(var s in this.sfLength=0,this.resetWildCards(),this.suits){var a=this.getCardsForFlush(s,!0);if(a.length>=this.game.sfQualify){this.cards=a;break}}return this.cards.length>=this.game.sfQualify&&(this.descr=this.name+", "+this.cards[0].toString().slice(0,-1)+s+" High",this.sfLength=this.cards.length,this.cards.length<this.game.cardsInHand&&(this.cards=this.cards.concat(this.nextHighest().slice(0,this.game.cardsInHand-this.cards.length)))),this.cards.length>=this.game.sfQualify}}class f extends t{constructor(s,a,t){super(s,"Straight",a,t)}solve(){var t,i;if(this.resetWildCards(),1===this.game.wheelStatus){if(this.cards=this.getWheel(),this.cards.length){for(var r=0,e=0;e<this.cards.length;e++)(t=this.cards[e]).value===this.game.wildValue&&(r+=1),0===t.rank&&(t.rank=s.indexOf("A"),t.wildValue="A","1"===t.value&&(t.value="A"));for(this.cards=this.cards.sort(a.sort);r<this.wilds.length&&this.cards.length<this.game.cardsInHand;r++)(t=this.wilds[r]).rank=s.indexOf("A"),t.wildValue="A",this.cards.push(t);return this.descr=this.name+", Wheel",this.sfLength=this.sfQualify,"A"===this.cards[0].value?this.cards=this.cards.concat(this.nextHighest().slice(1,this.game.cardsInHand-this.cards.length+1)):this.cards=this.cards.concat(this.nextHighest().slice(0,this.game.cardsInHand-this.cards.length)),!0}this.resetWildCards()}this.cards=this.getGaps();for(e=0;e<this.wilds.length;e++){if(t=this.wilds[e],i=this.getGaps(this.cards.length),this.cards.length===i.length)this.cards[0].rank<s.length-1?(t.rank=this.cards[0].rank+1,t.wildValue=s[t.rank],this.cards.push(t)):(t.rank=this.cards[this.cards.length-1].rank-1,t.wildValue=s[t.rank],this.cards.push(t));else for(var h=1;h<this.cards.length;h++)if(this.cards[h-1].rank-this.cards[h].rank>1){t.rank=this.cards[h-1].rank-1,t.wildValue=s[t.rank],this.cards.push(t);break}this.cards=this.cards.sort(a.sort)}return this.cards.length>=this.game.sfQualify&&(this.descr=this.name+", "+this.cards[0].toString().slice(0,-1)+" High",this.cards=this.cards.slice(0,this.game.cardsInHand),this.sfLength=this.cards.length,this.cards.length<this.game.cardsInHand&&(0===this.cards[this.sfLength-1].rank?this.cards=this.cards.concat(this.nextHighest().slice(1,this.game.cardsInHand-this.cards.length+1)):this.cards=this.cards.concat(this.nextHighest().slice(0,this.game.cardsInHand-this.cards.length)))),this.cards.length>=this.game.sfQualify}getGaps(i){var r,e,h,d,n,l,c,u,o,g=t.stripWilds(this.cardPool,this.game);for(r=g[0],e=g[1],h=0;h<e.length;h++)"A"===(d=e[h]).wildValue&&e.push(new a("1"+d.suit));for(e=e.sort(a.sort),i?h=e[0].rank+1:(i=this.game.sfQualify,h=s.length),n=[];h>0;h--){l=[],c=0;for(var f=0;f<e.length;f++)if(!((d=e[f]).rank>h))if(null===(o=(u=l[l.length-1])?u.rank-d.rank:h-d.rank))l.push(d);else{if(i<c+o+l.length)break;o>0&&(l.push(d),c+=o-1)}if(l.length>n.length&&(n=l.slice()),this.game.sfQualify-n.length<=r.length)break}return n}getWheel(){var i,r,e,h,d,n,l,c=t.stripWilds(this.cardPool,this.game);for(i=c[0],r=c[1],e=0;e<r.length;e++)"A"===(h=r[e]).wildValue&&r.push(new a("1"+h.suit));for(r=r.sort(a.sort),d=[],n=0,e=this.game.sfQualify-1;e>=0;e--){l=!1;for(var u=0;u<r.length;u++)if(!((h=r[u]).rank>e)){if(h.rank<e)break;d.push(h),l=!0;break}if(!l){if(!(n<i.length))return[];i[n].rank=e,i[n].wildValue=s[e],d.push(i[n]),n+=1}}return d}}class w extends t{constructor(s,a,t){super(s,"Two Three Of a Kind",a,t)}solve(){this.resetWildCards();for(var a=0;a<this.values.length;a++){var t=this.values[a];if(this.cards.length>0&&3===this.getNumCardsByRank(a)){this.cards=this.cards.concat(t||[]);for(var i=0;i<this.wilds.length;i++){-1===(r=this.wilds[i]).rank&&(t?r.rank=t[0].rank:this.cards[0].rank===s.length-1&&1===this.game.wildStatus?r.rank=s.length-2:r.rank=s.length-1,r.wildValue=s[r.rank],this.cards.push(r))}this.cards=this.cards.concat(this.nextHighest().slice(0,this.game.cardsInHand-6));break}if(3===this.getNumCardsByRank(a)){this.cards=this.cards.concat(t);for(i=0;i<this.wilds.length;i++){var r;-1===(r=this.wilds[i]).rank&&(t?r.rank=t[0].rank:this.cards[0].rank===s.length-1&&1===this.game.wildStatus?r.rank=s.length-2:r.rank=s.length-1,r.wildValue=s[r.rank],this.cards.push(r))}}}if(this.cards.length>=6){var e=this.cards[0].toString().slice(0,-1)+"'s & "+this.cards[3].toString().slice(0,-1)+"'s";this.descr=this.name+", "+e}return this.cards.length>=6}}class k extends t{constructor(s,a,t){super(s,"Three of a Kind",a,t)}solve(){this.resetWildCards();for(var a=0;a<this.values.length;a++)if(3===this.getNumCardsByRank(a)){this.cards=this.values[a]||[];for(var t=0;t<this.wilds.length&&this.cards.length<3;t++){var i=this.wilds[t];this.cards?i.rank=this.cards[0].rank:i.rank=s.length-1,i.wildValue=s[i.rank],this.cards.push(i)}this.cards=this.cards.concat(this.nextHighest().slice(0,this.game.cardsInHand-3));break}return this.cards.length>=3&&(this.game.noKickers&&(this.cards.length=3),this.descr=this.name+", "+this.cards[0].toString().slice(0,-1)+"'s"),this.cards.length>=3}}class v extends t{constructor(s,a,t){super(s,"Three Pair",a,t)}solve(){this.resetWildCards();for(var a=0;a<this.values.length;a++){var t=this.values[a];if(this.cards.length>2&&2===this.getNumCardsByRank(a)){this.cards=this.cards.concat(t||[]);for(var i=0;i<this.wilds.length;i++){-1===(r=this.wilds[i]).rank&&(t?r.rank=t[0].rank:this.cards[0].rank===s.length-1&&1===this.game.wildStatus?r.rank=s.length-2:r.rank=s.length-1,r.wildValue=s[r.rank],this.cards.push(r))}this.cards=this.cards.concat(this.nextHighest().slice(0,this.game.cardsInHand-6));break}if(this.cards.length>0&&2===this.getNumCardsByRank(a)){this.cards=this.cards.concat(t||[]);for(i=0;i<this.wilds.length;i++){-1===(r=this.wilds[i]).rank&&(t?r.rank=t[0].rank:this.cards[0].rank===s.length-1&&1===this.game.wildStatus?r.rank=s.length-2:r.rank=s.length-1,r.wildValue=s[r.rank],this.cards.push(r))}}else if(2===this.getNumCardsByRank(a)){this.cards=this.cards.concat(t);for(i=0;i<this.wilds.length;i++){var r;-1===(r=this.wilds[i]).rank&&(t?r.rank=t[0].rank:this.cards[0].rank===s.length-1&&1===this.game.wildStatus?r.rank=s.length-2:r.rank=s.length-1,r.wildValue=s[r.rank],this.cards.push(r))}}}if(this.cards.length>=6){var e=this.cards[0].toString().slice(0,-1)+"'s & "+this.cards[2].toString().slice(0,-1)+"'s & "+this.cards[4].toString().slice(0,-1)+"'s";this.descr=this.name+", "+e}return this.cards.length>=6}}class H extends t{constructor(s,a,t){super(s,"Two Pair",a,t)}solve(){this.resetWildCards();for(var a=0;a<this.values.length;a++){var t=this.values[a];if(this.cards.length>0&&2===this.getNumCardsByRank(a)){this.cards=this.cards.concat(t||[]);for(var i=0;i<this.wilds.length;i++){-1===(r=this.wilds[i]).rank&&(t?r.rank=t[0].rank:this.cards[0].rank===s.length-1&&1===this.game.wildStatus?r.rank=s.length-2:r.rank=s.length-1,r.wildValue=s[r.rank],this.cards.push(r))}this.cards=this.cards.concat(this.nextHighest().slice(0,this.game.cardsInHand-4));break}if(2===this.getNumCardsByRank(a)){this.cards=this.cards.concat(t);for(i=0;i<this.wilds.length;i++){var r;-1===(r=this.wilds[i]).rank&&(t?r.rank=t[0].rank:this.cards[0].rank===s.length-1&&1===this.game.wildStatus?r.rank=s.length-2:r.rank=s.length-1,r.wildValue=s[r.rank],this.cards.push(r))}}}if(this.cards.length>=4){this.game.noKickers&&(this.cards.length=4);var e=this.cards[0].toString().slice(0,-1)+"'s & "+this.cards[2].toString().slice(0,-1)+"'s";this.descr=this.name+", "+e}return this.cards.length>=4}}class m extends t{constructor(s,a,t){super(s,"Pair",a,t)}solve(){this.resetWildCards();for(var a=0;a<this.values.length;a++)if(2===this.getNumCardsByRank(a)){this.cards=this.cards.concat(this.values[a]||[]);for(var t=0;t<this.wilds.length&&this.cards.length<2;t++){var i=this.wilds[t];this.cards?i.rank=this.cards[0].rank:i.rank=s.length-1,i.wildValue=s[i.rank],this.cards.push(i)}this.cards=this.cards.concat(this.nextHighest().slice(0,this.game.cardsInHand-2));break}return this.cards.length>=2&&(this.game.noKickers&&(this.cards.length=2),this.descr=this.name+", "+this.cards[0].toString().slice(0,-1)+"'s"),this.cards.length>=2}}class p extends t{constructor(s,a,t){super(s,"High Card",a,t)}solve(){this.cards=this.cardPool.slice(0,this.game.cardsInHand);for(var t=0;t<this.cards.length;t++){this.cards[t];this.cards[t].value===this.game.wildValue&&(this.cards[t].wildValue="A",this.cards[t].rank=s.indexOf("A"))}return this.game.noKickers&&(this.cards.length=1),this.cards=this.cards.sort(a.sort),this.descr=this.cards[0].toString().slice(0,-1)+" High",!0}}class b{constructor(s){this.baseHand=null,this.hiHand=null,this.loHand=null,this.game=null,this.loGame=new S("paigowpokerlo"),this.hiGame=new S("paigowpokerhi"),Array.isArray(s)?this.baseHand=t.solve(s,new S("paigowpokerfull")):this.baseHand=s,this.game=this.baseHand.game}splitHouseWay(){var a,r,e=this.game.handValues.length-this.baseHand.rank,h=this.game.handValues[e];if(h===d)"K"===this.baseHand.cards[5].value&&"K"===this.baseHand.cards[6].value?(r=this.baseHand.cards.slice(5,7),a=this.baseHand.cards.slice(0,5)):(r=this.baseHand.cards.slice(0,2),a=this.baseHand.cards.slice(2,7));else if(h===n)"A"===this.baseHand.cards[0].wildValue&&"K"!==this.baseHand.cards[4].value?(a=this.baseHand.cards.slice(0,2),r=this.baseHand.cards.slice(2,4),a=a.concat(this.baseHand.cards.slice(4,7))):(a=this.baseHand.cards.slice(0,4),r=this.baseHand.cards.slice(4,6),a.push(this.baseHand.cards[6]));else if(h===i||h===g||h===f){var c,p=new S("paigowpokeralt"),b=t.solve(this.baseHand.cards,p),V=p.handValues.length-b.rank;if(p.handValues[V]===l)a=(c=this.getSFData(b.cards))[0],r=c[1];else if(p.handValues[V]===o)a=b.cards.slice(0,3),r=b.cards.slice(3,5),a=a.concat(b.cards.slice(5,7));else if(p.handValues[V]===k)a=(c=this.getSFData(b.cards))[0],r=c[1];else if(p.handValues[V]===v)r=b.cards.slice(0,2),a=b.cards.slice(2,7);else if(p.handValues[V]===H)b.cards[0].rank<6?"A"===b.cards[4].wildValue?(a=b.cards.slice(0,4),r=b.cards.slice(4,6),a.push(b.cards[6])):(a=(c=this.getSFData(b.cards))[0],r=c[1]):b.cards[0].rank<10?"A"===b.cards[4].wildValue?(a=b.cards.slice(0,4),r=b.cards.slice(4,6),a.push(b.cards[6])):(a=b.cards.slice(0,2),r=b.cards.slice(2,4),a=a.concat(b.cards.slice(4,7))):"A"!==b.cards[0].wildValue&&b.cards[2].rank<6&&"A"===b.cards[4].wildValue?(a=b.cards.slice(0,4),r=b.cards.slice(4,6),a.push(b.cards[6])):(a=b.cards.slice(0,2),r=b.cards.slice(2,4),a=a.concat(b.cards.slice(4,7)));else if(p.handValues[V]===m)if(b.cards[0].rank>=s.indexOf("T")&&b.cards[0].rank<=s.indexOf("K")&&"A"===b.cards[2].wildValue){var y=b.cards.slice(0,2);y=y.concat(b.cards.slice(3,7)),(c=this.getSFData(y))[0]?(a=c[0],(r=c[1]).push(b.cards[2])):(a=b.cards.slice(0,2),r=b.cards.slice(2,4),a=a.concat(b.cards.slice(4,7)))}else(c=this.getSFData(b.cards.slice(2,7)))[0]?(a=c[0],r=b.cards.slice(0,2)):(a=(c=this.getSFData(b.cards))[0],r=c[1]);else a=(c=this.getSFData(b.cards))[0],r=c[1]}else h===l?this.baseHand.cards[0].rank<6?(a=this.baseHand.cards.slice(0,4),r=this.baseHand.cards.slice(4,6),a.push(this.baseHand.cards[6])):this.baseHand.cards[0].rank<10&&"A"===this.baseHand.cards[4].wildValue?(a=this.baseHand.cards.slice(0,4),r=this.baseHand.cards.slice(4,6),a.push(this.baseHand.cards[6])):(a=this.baseHand.cards.slice(0,2),r=this.baseHand.cards.slice(2,4),a=a.concat(this.baseHand.cards.slice(4,7))):h===w?(r=this.baseHand.cards.slice(0,2),(a=this.baseHand.cards.slice(3,6)).push(this.baseHand.cards[2]),a.push(this.baseHand.cards[6])):h===u?(a=this.baseHand.cards.slice(0,3),r=this.baseHand.cards.slice(3,5),a=a.concat(this.baseHand.cards.slice(5,7))):h===o?"2"===this.baseHand.cards[3].wildValue&&"A"===this.baseHand.cards[5].wildValue&&"K"===this.baseHand.cards[6].wildValue?(a=this.baseHand.cards.slice(0,5),r=this.baseHand.cards.slice(5,7)):(a=this.baseHand.cards.slice(0,3),r=this.baseHand.cards.slice(3,5),a=a.concat(this.baseHand.cards.slice(5,7))):h===k?"A"===this.baseHand.cards[0].wildValue?(a=this.baseHand.cards.slice(0,2),r=this.baseHand.cards.slice(2,4),a=a.concat(this.baseHand.cards.slice(4,7))):(a=this.baseHand.cards.slice(0,3),r=this.baseHand.cards.slice(3,5),a=a.concat(this.baseHand.cards.slice(5,7))):h===v?(r=this.baseHand.cards.slice(0,2),a=this.baseHand.cards.slice(2,7)):h===H?this.baseHand.cards[0].rank<6?(a=this.baseHand.cards.slice(0,4),r=this.baseHand.cards.slice(4,6),a.push(this.baseHand.cards[6])):this.baseHand.cards[0].rank<10?"A"===this.baseHand.cards[4].wildValue?(a=this.baseHand.cards.slice(0,4),r=this.baseHand.cards.slice(4,6),a.push(this.baseHand.cards[6])):(a=this.baseHand.cards.slice(0,2),r=this.baseHand.cards.slice(2,4),a=a.concat(this.baseHand.cards.slice(4,7))):"A"!==this.baseHand.cards[0].wildValue&&this.baseHand.cards[2].rank<6&&"A"===this.baseHand.cards[4].wildValue?(a=this.baseHand.cards.slice(0,4),r=this.baseHand.cards.slice(4,6),a.push(this.baseHand.cards[6])):(a=this.baseHand.cards.slice(0,2),r=this.baseHand.cards.slice(2,4),a=a.concat(this.baseHand.cards.slice(4,7))):h===m?(a=this.baseHand.cards.slice(0,2),r=this.baseHand.cards.slice(2,4),a=a.concat(this.baseHand.cards.slice(4,7))):(a=[this.baseHand.cards[0]],r=this.baseHand.cards.slice(1,3),a=a.concat(this.baseHand.cards.slice(3,7)));this.hiHand=t.solve(a,this.hiGame),this.loHand=t.solve(r,this.loGame)}getSFData(s){for(var t,r,e,h,d=[new i(s,new S("paigowpokersf7")),new i(s,new S("paigowpokersf6")),new i(s,this.game),new g(s,new S("paigowpokersf7")),new g(s,new S("paigowpokersf6")),new g(s,this.game),new f(s,new S("paigowpokersf7")),new f(s,new S("paigowpokersf6")),new f(s,this.game)],n=0;n<d.length;n++){var l=d[n];if(l.isPossible)if(7===l.sfLength?r=[l.cards[0],l.cards[1]]:6===l.sfLength?(r=[l.cards[0]],s.length>6&&r.push(l.cards[6])):s.length>5&&(r=[l.cards[5]],s.length>6&&r.push(l.cards[6])),r)r=r.sort(a.sort),(!e||e[0].rank<r[0].rank||e.length>1&&e[0].rank===r[0].rank&&e[1].rank<r[1].rank)&&(e=r,h=l);else if(!h){h=l;break}}return h&&(t=7===h.sfLength?h.cards.slice(2,7):6===h.sfLength?h.cards.slice(1,6):h.cards.slice(0,5)),[t,e]}qualifiesValid(){var s=t.winners([this.hiHand,this.loHand]);return!(1===s.length&&s[0]===this.loHand)}static winners(s,a){if(!s.qualifiesValid())return a.qualifiesValid()?-1:0;if(!a.qualifiesValid())return 1;var i=t.winners([s.hiHand,a.hiHand]),r=t.winners([s.loHand,a.loHand]);return 1===i.length&&i[0]===s.hiHand?1===r.length&&r[0]===s.loHand?1:0:1===r.length&&r[0]===s.loHand?0:-1}static setHands(s,a){var i=[];Array.isArray(s)&&(s=t.solve(s,new S("paigowpokerhi"))),i=i.concat(s.cardPool),Array.isArray(a)&&(a=t.solve(a,new S("paigowpokerlo"))),i=i.concat(a.cardPool);var r=new b(i);return r.hiHand=s,r.loHand=a,r}static solve(s){var a=new b(s=s||[""]);return a.splitHouseWay(),a}}var V={standard:{cardsInHand:5,handValues:[i,l,o,g,f,k,H,m,p],wildValue:null,wildStatus:1,wheelStatus:0,sfQualify:5,lowestQualified:null,noKickers:!1},jacksbetter:{cardsInHand:5,handValues:[i,l,o,g,f,k,H,m,p],wildValue:null,wildStatus:1,wheelStatus:0,sfQualify:5,lowestQualified:["Jc","Jd","4h","3s","2c"],noKickers:!0},joker:{cardsInHand:5,handValues:[e,d,h,i,l,o,g,f,k,H,p],wildValue:"O",wildStatus:1,wheelStatus:0,sfQualify:5,lowestQualified:["4c","3d","3h","2s","2c"],noKickers:!0},deuceswild:{cardsInHand:5,handValues:[e,c,h,d,i,l,o,g,f,k,p],wildValue:"2",wildStatus:1,wheelStatus:0,sfQualify:5,lowestQualified:["5c","4d","3h","3s","3c"],noKickers:!0},threecard:{cardsInHand:3,handValues:[i,k,f,g,m,p],wildValue:null,wildStatus:1,wheelStatus:0,sfQualify:3,lowestQualified:["Qh","3s","2c"],noKickers:!1},fourcard:{cardsInHand:4,handValues:[l,i,k,g,f,H,m,p],wildValue:null,wildStatus:1,wheelStatus:0,sfQualify:4,lowestQualified:null,noKickers:!0},fourcardbonus:{cardsInHand:4,handValues:[l,i,k,g,f,H,m,p],wildValue:null,wildStatus:1,wheelStatus:0,sfQualify:4,lowestQualified:["Ac","Ad","3h","2s"],noKickers:!0},paigowpokerfull:{cardsInHand:7,handValues:[d,n,i,g,f,l,w,u,o,k,v,H,m,p],wildValue:"O",wildStatus:0,wheelStatus:1,sfQualify:5,lowestQualified:null},paigowpokeralt:{cardsInHand:7,handValues:[l,o,k,v,H,m,p],wildValue:"O",wildStatus:0,wheelStatus:1,sfQualify:5,lowestQualified:null},paigowpokersf6:{cardsInHand:7,handValues:[i,g,f],wildValue:"O",wildStatus:0,wheelStatus:1,sfQualify:6,lowestQualified:null},paigowpokersf7:{cardsInHand:7,handValues:[i,g,f],wildValue:"O",wildStatus:0,wheelStatus:1,sfQualify:7,lowestQualified:null},paigowpokerhi:{cardsInHand:5,handValues:[d,i,l,o,g,f,k,H,m,p],wildValue:"O",wildStatus:0,wheelStatus:1,sfQualify:5,lowestQualified:null},paigowpokerlo:{cardsInHand:2,handValues:[m,p],wildValue:"O",wildStatus:0,wheelStatus:1,sfQualify:5,lowestQualified:null}};class S{constructor(s){this.descr=s,this.cardsInHand=0,this.handValues=[],this.wildValue=null,this.wildStatus=0,this.wheelStatus=0,this.sfQualify=5,this.lowestQualified=null,this.noKickers=null,this.descr&&V[this.descr]||(this.descr="standard"),this.cardsInHand=V[this.descr].cardsInHand,this.handValues=V[this.descr].handValues,this.wildValue=V[this.descr].wildValue,this.wildStatus=V[this.descr].wildStatus,this.wheelStatus=V[this.descr].wheelStatus,this.sfQualify=V[this.descr].sfQualify,this.lowestQualified=V[this.descr].lowestQualified,this.noKickers=V[this.descr].noKickers}}function y(s){s.Card=a,s.Hand=t,s.Game=S,s.RoyalFlush=r,s.NaturalRoyalFlush=e,s.WildRoyalFlush=h,s.FiveOfAKind=d,s.StraightFlush=i,s.FourOfAKindPairPlus=n,s.FourOfAKind=l,s.FourWilds=c,s.TwoThreeOfAKind=w,s.ThreeOfAKindTwoPair=u,s.FullHouse=o,s.Flush=g,s.Straight=f,s.ThreeOfAKind=k,s.ThreePair=v,s.TwoPair=H,s.OnePair=m,s.HighCard=p,s.PaiGowPokerHelper=b}"undefined"!=typeof exports&&y(exports),"undefined"!=typeof window&&y(window)}();
},{}],"UAuH":[function(require,module,exports) {
function n(n,o){return e(n)||t(n,o)||a(n,o)||r()}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function t(n,r){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var e,o,a,l,i=[],u=!0,f=!1;try{if(a=(t=t.call(n)).next,0===r){if(Object(t)!==t)return;u=!1}else for(;!(u=(e=a.call(t)).done)&&(i.push(e.value),i.length!==r);u=!0);}catch(c){f=!0,o=c}finally{try{if(!u&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(f)throw o}}return i}}function e(n){if(Array.isArray(n))return n}function o(n,r){var t="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=a(n))||r&&n&&"number"==typeof n.length){t&&(n=t);var e=0,o=function(){};return{s:o,n:function(){return e>=n.length?{done:!0}:{done:!1,value:n[e++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,i=!0,u=!1;return{s:function(){t=t.call(n)},n:function(){var n=t.next();return i=n.done,n},e:function(n){u=!0,l=n},f:function(){try{i||null==t.return||t.return()}finally{if(u)throw l}}}}function a(n,r){if(n){if("string"==typeof n)return l(n,r);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(n,r):void 0}}function l(n,r){(null==r||r>n.length)&&(r=n.length);for(var t=0,e=new Array(r);t<r;t++)e[t]=n[t];return e}var i=require("pokersolver"),u=i.Hand,f=["♠","♥","♦","♣"],c="23456789TJQKA";function s(n,r){for(var t=0,e=0,a=0,l=[],i=0,s=f;i<s.length;i++){var h,y=s[i],d=o(c);try{for(d.s();!(h=d.n()).done;){var p=h.value+y;n.includes(p)||r.includes(p)||l.push(p)}}catch(E){d.e(E)}finally{d.f()}}var g,m=o(l.length>=5-r.length?v(l,5-r.length):[r]);try{for(m.s();!(g=m.n()).done;){var b,w=g.value,A=w.concat(r),S=u.solve(n.concat(A)),j=o(l);try{for(j.s();!(b=j.n()).done;){var I=b.value;if(!w.includes(I)){var M,O=o(l);try{for(O.s();!(M=O.n()).done;){var R=M.value;if(!w.includes(R)&&I!==R){var x=[I,R],T=u.solve(x.concat(A)),C=u.winners([S,T]);1===C.length&&C[0]===S?t++:2===C.length&&e++,a++}}}catch(E){O.e(E)}finally{O.f()}}}}catch(E){j.e(E)}finally{j.f()}}}catch(E){m.e(E)}finally{m.f()}return{winRate:t/a,tieRate:e/a}}function v(n,r){var t=[],e=n.length;return function o(a,l){if(l.length!==r)for(var i=a;i<e;i++)l.push(n[i]),o(i+1,l),l.pop();else t.push(l.slice())}(0,[]),t}function h(r,t){for(var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4,o=0,a=0,l=0,i=0;i<e;i++){var f=n(y(r,t),2),c=f[0],s=f[1],v=u.solve(r.concat(s)),h=u.solve(c.concat(s)),d=u.winners([v,h]);1===d.length&&d[0]===v?o++:2===d.length&&a++,l++}return{winRate:o/l,tieRate:a/l}}function y(n,r){var t,e=[],a=o(f);try{for(a.s();!(t=a.n()).done;){var l,i=t.value,u=o(c);try{for(u.s();!(l=u.n()).done;){var s=l.value+i;n.includes(s)||r.includes(s)||e.push(s)}}catch(b){u.e(b)}finally{u.f()}}}catch(b){a.e(b)}finally{a.f()}for(var v=[],h=0;h<2;h++){var y=Math.floor(Math.random()*e.length);v.push(e.splice(y,1)[0])}for(var d=5-r.length,p=r.slice(),g=0;g<d;g++){var m=Math.floor(Math.random()*e.length);p.push(e.splice(m,1)[0])}return[v,p]}module.exports={monteCarloSimulation:h};
},{"pokersolver":"IefW"}],"Focm":[function(require,module,exports) {
var e=require("./p2"),t=e.monteCarloSimulation;window.addValue=function(e){document.getElementById("card-number").value+=e},window.cal=function(){for(var e=document.getElementById("card-number").value,n=[],o=0;o<e.length;o+=2){var c=e.slice(o,o+2);n.push(c)}var u=n.slice(0,2),r=n.slice(2);document.getElementById("result").textContent="计算中...",setTimeout(function(){var e,n=document.getElementById("result");try{e=t(u,r,1e4),console.log(u,r,e),n.textContent="win:".concat((100*e.winRate).toFixed(2),",tie:").concat((100*e.tieRate).toFixed(2))}catch(o){n.textContent="error:".concat(o)}})},window.reset=function(){document.getElementById("card-number").value="",document.getElementById("result").textContent=""};
},{"./p2":"UAuH"}]},{},["Focm"], null)
//# sourceMappingURL=card.2cc396ab.js.map